{"version":3,"sources":["../../src/functions/upload_docs_fn.ts"],"sourcesContent":["import { GSContext, GSStatus } from \"@godspeedsystems/core\";\r\nimport { ingestUploadedFile } from \"../helper/ingestGithubRepo\";\r\n\r\nexport default async function(ctx: GSContext): Promise<GSStatus> {\r\n  const { file, filename } = ctx.inputs.data.body;\r\n  try {\r\n     const res = await ingestUploadedFile(file,filename)\r\n\r\n    return new GSStatus(true, 200, undefined, {\r\n      message: res,\r\n    });\r\n\r\n  } catch (err) {\r\n    ctx.logger.error(\"Error processing file:\", err);\r\n    return new GSStatus(false, 500, undefined, \"Failed to parse and ingest document\");\r\n  }\r\n}\r\n"],"names":["ctx","file","filename","inputs","data","body","res","ingestUploadedFile","GSStatus","undefined","message","err","logger","error"],"mappings":";;;;+BAGA;;;eAAA;;;sBAHoC;kCACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEpB,SAAf,SAA8BA,GAAc;;QAC1C,MAAM,EAAEC,IAAI,EAAEC,QAAQ,EAAE,GAAGF,IAAIG,MAAM,CAACC,IAAI,CAACC,IAAI;QAC/C,IAAI;YACD,MAAMC,MAAM,MAAMC,IAAAA,oCAAkB,EAACN,MAAKC;YAE3C,OAAO,IAAIM,cAAQ,CAAC,MAAM,KAAKC,WAAW;gBACxCC,SAASJ;YACX;QAEF,EAAE,OAAOK,KAAK;YACZX,IAAIY,MAAM,CAACC,KAAK,CAAC,0BAA0BF;YAC3C,OAAO,IAAIH,cAAQ,CAAC,OAAO,KAAKC,WAAW;QAC7C;IACF"}